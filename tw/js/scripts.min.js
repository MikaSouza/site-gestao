function digitos(a){return window.event?key=a.keyCode:a.which&&(key=a.which),!(8!=key||13!=key||key<48||key>57)||(key>47&&key<58||8==key||13==key)}function formatarMoeda(a,b,c,d){var e=c.keyCode;vr=limparCaracteres(a.value,"0123456789"),tam=vr.length,dec=d,tam<b&&8!=e&&(tam=vr.length+1),8==e&&(tam-=1),(8==e||e>=48&&e<=57||e>=96&&e<=105)&&(tam<=dec&&(a.value=vr),tam>dec&&tam<=5&&(a.value=vr.substr(0,tam-2)+","+vr.substr(tam-dec,tam)),tam>=6&&tam<=8&&(a.value=vr.substr(0,tam-5)+"."+vr.substr(tam-5,3)+","+vr.substr(tam-dec,tam)),tam>=9&&tam<=11&&(a.value=vr.substr(0,tam-8)+"."+vr.substr(tam-8,3)+"."+vr.substr(tam-5,3)+","+vr.substr(tam-dec,tam)),tam>=12&&tam<=14&&(a.value=vr.substr(0,tam-11)+"."+vr.substr(tam-11,3)+"."+vr.substr(tam-8,3)+"."+vr.substr(tam-5,3)+","+vr.substr(tam-dec,tam)),tam>=15&&tam<=17&&(a.value=vr.substr(0,tam-14)+"."+vr.substr(tam-14,3)+"."+vr.substr(tam-11,3)+"."+vr.substr(tam-8,3)+"."+vr.substr(tam-5,3)+","+vr.substr(tam-2,tam)))}function limparCaracteres(a,b){for(var d,c="",e=0;e<a.length;e++)d=b.indexOf(a.substring(e,e+1)),d>=0&&(c+=d);return c}function trim(a){return a.replace(/^\s+|\s+$/g,"")}function ltrim(a){return a.replace(/^\s+/,"")}function rtrim(a){return a.replace(/\s+$/,"")}function ucfirst(a){return a.substr(0,1).toUpperCase()+a.substr(1)}function deletarRegistro(a,b,c){return void 0!=a&&void 0!=b&&void 0!=c&&void swal({title:"",text:"Você deseja excluír o registro?",type:"warning",showCancelButton:!0,cancelButtonText:"Não",confirmButtonText:"Sim!",closeOnConfirm:!1},function(){$.ajax({url:"../includes/excluirRegistro.php",type:"POST",dataType:"json",data:{tabela:a,prefixo:b,codigo:c},success:function(a){a?(sweetAlert("","Registro excluído com sucesso!","success"),window.dataTable.ajax.reload()):sweetAlert("Oops...","Ocorreu um erro ao excluir o registro!","error")},error:function(a){sweetAlert("Oops...","Ocorreu um erro inesperado!","error")}})})}function removerImagem(a,b,c,d,e){swal({title:"",text:"Você deseja remover a imagem?",type:"warning",showCancelButton:!0,cancelButtonText:"Não",confirmButtonText:"Sim!",closeOnConfirm:!1},function(){$.ajax({url:"../includes/removerImagens.php",type:"POST",dataType:"json",data:{arquivo:a,codigo:b,tabela:c,prefixo:d,fieldImagem:e},success:function(a){var b=a?"Imagem removida com sucesso!":"Houve um erro ao remover a imagem",c=a?"success":"error";swal({title:"",text:b,type:c},function(){location.reload()})},error:function(a){sweetAlert("Oops...",a.responseText,"error")}})})}function removerImagemGrid(a,b,c,d,e,f){swal({title:"",text:"Você deseja remover a imagem?",type:"warning",showCancelButton:!0,cancelButtonText:"Não",confirmButtonText:"Sim!",closeOnConfirm:!1},function(){$.ajax({url:"../includes/removerImagens.php",type:"POST",dataType:"json",data:{arquivo:a,codigo:b,tabela:c,prefixo:d,fieldImagem:f},success:function(a){var b=a?"Imagem removida com sucesso!":"Houve um erro ao remover a imagem",c=a?"success":"error";swal({title:"",text:b,type:c},function(){a&&$(e).parent().parent().remove()})},error:function(a){sweetAlert("Oops...",a.responseText,"error")}})})}function definirImagemPrincipal(a,b,c,d,e,f){return event.preventDefault(),void 0!=a&&void 0!=b&&void 0!=d&&void 0!=e&&void 0!=f&&void swal({title:"",text:"Você deseja definir esta imagem como principal?",type:"info",showCancelButton:!0,cancelButtonText:"Não",confirmButtonText:"Sim!",closeOnConfirm:!1},function(){$.ajax({url:"../includes/definirImagemPrincipal.php",type:"POST",dataType:"json",data:{tabela:a,prefixo:b,codigo:d,imagem:e,fieldImagem:c},success:function(a){a?(sweetAlert("","Imagem principal definida com sucesso!","success"),$(".btnImgPrincipal").prop("disabled",!1),$(f).prop("disabled",!0)):sweetAlert("Oops...","Ocorreu um erro ao definir a imagem como principal!","error")},error:function(a){sweetAlert("Oops...","Ocorreu um erro inesperado!","error")}})})}function limparValoresFloat(a){return a=a.replace("R$ ",""),a=a.replace(".",""),a=a.replace(",","."),a=parseFloat(a)}function formatar_moeda(a,b){return void 0==b&&(b=!0),a=parseFloat(a),a=a.toFixed(2),a=a.toString(),a=a.replace(".",","),console.log("estouuuuuuuuuuuuuuuuu"),b?"R$ "+a:a}function filterNumber(a){var b=a.replace(/[^0-9]/g,"");return parseInt(b)}jQuery(document).ready(function(a){jQuery(".datepicker").datepicker({format:"dd/mm/yyyy",language:"pt-BR",weekStart:0,todayHighlight:!0,autoclose:!0,forceParse:!1}),jQuery(".datepicker").mask("99/99/9999"),jQuery(".colorpicker-component").colorpicker({format:"rgb"}),jQuery("input.telefone").mask("(99) 9999-9999?9").focusout(function(b){var c,d,e;c=b.currentTarget?b.currentTarget:b.srcElement,d=c.value.replace(/\D/g,""),e=a(c),e.unmask(),d.length>10?e.mask("(99) 99999-999?9"):e.mask("(99) 9999-9999?9")}),jQuery(".monetario").attr("maxlength","15").keypress(function(a){return digitos(a,this)}).keydown(function(a){formatarMoeda(this,20,a,2)}),jQuery(".cpf").mask("999.999.999-99"),jQuery(".cnpj").mask("99.999.999/9999-99"),jQuery(".cep").mask("99999-999"),jQuery(".horario").mask("99:99?:99"),jQuery(".date-time").mask("99/99/999 99:99?:99"),jQuery(".select").selectpicker({container:"body",liveSearch:!0,showTick:!0})}),tinymce.init({selector:".tinymce",height:300,theme:"modern",language:"pt_BR",plugins:["advlist autolink lists link image charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen","insertdatetime media nonbreaking save table contextmenu directionality","emoticons template paste textcolor colorpicker textpattern imagetools"],toolbar1:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image",toolbar2:"print preview media | forecolor backcolor emoticons",image_advtab:!0,templates:[{title:"Test template 1",content:"Test 1"},{title:"Test template 2",content:"Test 2"}],content_css:["//fonts.googleapis.com/css?family=Lato:300,300i,400,400i","//www.tinymce.com/css/codepen.min.css"]}),window.addEventListener("DOMContentLoaded",function(){var c,d,e,f,g,h,a=$("#imagemCrop")[0],b=$("#imagemCrop").attr("src");$("#modalCrop").on("shown.bs.modal",function(i){a=$("#imagemCrop")[0],b=$("#imagemCrop").attr("src"),d=$(i.relatedTarget),c=new Cropper(a,{autoCropArea:1,aspectRatio:$("input[type=hidden][name=aspectRatioCrop]").val(),viewMode:1,modal:!0,guides:!0,crop:function(a){e=a.detail.x,f=a.detail.y,g=a.detail.width,h=a.detail.height}})}),$("#modalCrop").on("hidden.bs.modal",function(){c.destroy()}),$("#cropImageBtn").on("click",function(a){a.preventDefault(),$.ajax({url:"../includes/cortarImagem.php",type:"POST",cache:!1,data:{x:e,y:f,w:g,h:h,imagem:b},success:function(a){swal({title:"",text:"A imagem foi recortada com sucesso!",type:"success"},function(){$("#modalCrop").modal("hide"),d.parent().parent().find("td.thumbGrid").length>0&&(d.parent().parent().find("td.thumbGrid > img").length<1&&d.parent().parent().find("td.thumbGrid").html('<img src="" border="0" width="100%;">'),d.parent().parent().find("td.thumbGrid > img").attr("src",a)),$(".thumb > img").length<1&&$(".thumb").html('<label>Miniatura</label><img src="" border="0" width="100%;">'),$(".thumb > img").attr("src",a)})},error:function(){sweetAlert("Oops...","Ocorreu um erro inesperado!","error")}})})}),jQuery.validator.addMethod("documento",function(a,b){if(a=a.replace(".",""),a=a.replace(".",""),a=a.replace("-",""),a=a.replace("/",""),a.length<=11){if(jQuery.validator.methods.cpf.call(this,a,b))return!0;this.settings.messages.documento.documento="Informe um CPF válido."}else if(a.length<=14){if(jQuery.validator.methods.cnpj.call(this,a,b))return!0;this.settings.messages.documento.documento="Informe um CNPJ válido."}return!1},"Informe um documento válido."),jQuery.validator.addMethod("cpf",function(a,b){for(a=jQuery.trim(a),a=a.replace(".",""),a=a.replace(".",""),cpf=a.replace("-","");cpf.length<11;)cpf="0"+cpf;var c=/^0+$|^1+$|^2+$|^3+$|^4+$|^5+$|^6+$|^7+$|^8+$|^9+$/,d=[],e=0,f=11;for(i=0;i<11;i++)d[i]=cpf.charAt(i),i<9&&(e+=d[i]*--f);for((x=e%11)<2?d[9]=0:d[9]=11-x,e=0,f=11,y=0;y<10;y++)e+=d[y]*f--;(x=e%11)<2?d[10]=0:d[10]=11-x;var g=!0;return(cpf.charAt(9)!=d[9]||cpf.charAt(10)!=d[10]||cpf.match(c))&&(g=!1),this.optional(b)||g},"Informe um CPF válido."),jQuery.validator.addMethod("cnpj",function(a,b){a=jQuery.trim(a),a=a.replace("/",""),a=a.replace(".",""),a=a.replace(".",""),a=a.replace("-","");var c,d,e,f,g,h,i,j;if(j=1,a.length<14&&a.length<15)return!1;for(f=0;f<a.length-1;f++)if(a.charAt(f)!=a.charAt(f+1)){j=0;break}if(j)return!1;for(i=a.length-2,c=a.substring(0,i),d=a.substring(i),e=0,h=i-7,f=i;f>=1;f--)e+=c.charAt(i-f)*h--,h<2&&(h=9);if(g=e%11<2?0:11-e%11,g!=d.charAt(0))return!1;for(i+=1,c=a.substring(0,i),e=0,h=i-7,f=i;f>=1;f--)e+=c.charAt(i-f)*h--,h<2&&(h=9);return g=e%11<2?0:11-e%11,g==d.charAt(1)},"Informe um CNPJ válido."),$("button[type!=submit]").on("click",function(a){a.preventDefault()}),Array.prototype.max=function(){return Math.max.apply(null,this)},Array.prototype.min=function(){return Math.min.apply(null,this)};