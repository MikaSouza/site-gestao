function digitos(e){return window.event?key=e.keyCode:e.which&&(key=e.which),!(8!=key||13!=key||key<48||key>57)||key>47&&key<58||8==key||13==key}function formatarMoeda(e,t,r,a){var o=r.keyCode;vr=limparCaracteres(e.value,"0123456789"),tam=vr.length,dec=a,tam<t&&8!=o&&(tam=vr.length+1),8==o&&(tam-=1),(8==o||o>=48&&o<=57||o>=96&&o<=105)&&(tam<=dec&&(e.value=vr),tam>dec&&tam<=5&&(e.value=vr.substr(0,tam-2)+","+vr.substr(tam-dec,tam)),tam>=6&&tam<=8&&(e.value=vr.substr(0,tam-5)+"."+vr.substr(tam-5,3)+","+vr.substr(tam-dec,tam)),tam>=9&&tam<=11&&(e.value=vr.substr(0,tam-8)+"."+vr.substr(tam-8,3)+"."+vr.substr(tam-5,3)+","+vr.substr(tam-dec,tam)),tam>=12&&tam<=14&&(e.value=vr.substr(0,tam-11)+"."+vr.substr(tam-11,3)+"."+vr.substr(tam-8,3)+"."+vr.substr(tam-5,3)+","+vr.substr(tam-dec,tam)),tam>=15&&tam<=17&&(e.value=vr.substr(0,tam-14)+"."+vr.substr(tam-14,3)+"."+vr.substr(tam-11,3)+"."+vr.substr(tam-8,3)+"."+vr.substr(tam-5,3)+","+vr.substr(tam-2,tam)))}function limparCaracteres(e,t){for(var r,a="",o=0;o<e.length;o++)r=t.indexOf(e.substring(o,o+1)),r>=0&&(a+=r);return a}function trim(e){return e.replace(/^\s+|\s+$/g,"")}function ltrim(e){return e.replace(/^\s+/,"")}function rtrim(e){return e.replace(/\s+$/,"")}function ucfirst(e){return e.substr(0,1).toUpperCase()+e.substr(1)}function deletarRegistro(e,t,r){return void 0!=e&&void 0!=t&&void 0!=r&&void swal({title:"",text:"Você deseja excluír o registro?",type:"warning",showCancelButton:!0,cancelButtonText:"Não",confirmButtonText:"Sim!",closeOnConfirm:!1},function(){$.ajax({url:"../includes/excluirRegistro.php",type:"POST",dataType:"json",data:{tabela:e,prefixo:t,codigo:r},success:function(e){e?(sweetAlert("","Registro excluído com sucesso!","success"),window.dataTable.ajax.reload()):sweetAlert("Oops...","Ocorreu um erro ao excluir o registro!","error")},error:function(e){sweetAlert("Oops...","Ocorreu um erro inesperado!","error")}})})}function removerImagem(e,t,r,a,o){swal({title:"",text:"Você deseja remover a imagem?",type:"warning",showCancelButton:!0,cancelButtonText:"Não",confirmButtonText:"Sim!",closeOnConfirm:!1},function(){$.ajax({url:"../includes/removerImagens.php",type:"POST",dataType:"json",data:{arquivo:e,codigo:t,tabela:r,prefixo:a,fieldImagem:o},success:function(e){var t=e?"Imagem removida com sucesso!":"Houve um erro ao remover a imagem",r=e?"success":"error";swal({title:"",text:t,type:r},function(){location.reload()})},error:function(e){sweetAlert("Oops...",e.responseText,"error")}})})}function removerImagemGrid(e,t,r,a,o,n){swal({title:"",text:"Você deseja remover a imagem?",type:"warning",showCancelButton:!0,cancelButtonText:"Não",confirmButtonText:"Sim!",closeOnConfirm:!1},function(){$.ajax({url:"../includes/removerImagens.php",type:"POST",dataType:"json",data:{arquivo:e,codigo:t,tabela:r,prefixo:a,fieldImagem:n},success:function(e){var t=e?"Imagem removida com sucesso!":"Houve um erro ao remover a imagem",r=e?"success":"error";swal({title:"",text:t,type:r},function(){e&&$(o).parent().parent().remove()})},error:function(e){sweetAlert("Oops...",e.responseText,"error")}})})}function definirImagemPrincipal(e,t,r,a,o,n){return event.preventDefault(),void 0!=e&&void 0!=t&&void 0!=a&&void 0!=o&&void 0!=n&&void swal({title:"",text:"Você deseja definir esta imagem como principal?",type:"info",showCancelButton:!0,cancelButtonText:"Não",confirmButtonText:"Sim!",closeOnConfirm:!1},function(){$.ajax({url:"../includes/definirImagemPrincipal.php",type:"POST",dataType:"json",data:{tabela:e,prefixo:t,codigo:a,imagem:o,fieldImagem:r},success:function(e){e?(sweetAlert("","Imagem principal definida com sucesso!","success"),$(".btnImgPrincipal").prop("disabled",!1),$(n).prop("disabled",!0)):sweetAlert("Oops...","Ocorreu um erro ao definir a imagem como principal!","error")},error:function(e){sweetAlert("Oops...","Ocorreu um erro inesperado!","error")}})})}function limparValoresFloat(e){return e=e.replace("R$ ",""),e=e.replace(".",""),e=e.replace(",","."),e=parseFloat(e)}function formatar_moeda(e,t){return void 0==t&&(t=!0),e=parseFloat(e),e=e.toFixed(2),e=e.toString(),e=e.replace(".",","),console.log("estouuuuuuuuuuuuuuuuu"),t?"R$ "+e:e}function filterNumber(e){var t=e.replace(/[^0-9]/g,"");return parseInt(t)}jQuery(document).ready(function(e){jQuery(".datepicker").datepicker({format:"dd/mm/yyyy",language:"pt-BR",weekStart:0,todayHighlight:!0,autoclose:!0,forceParse:!1}),jQuery(".datepicker").mask("99/99/9999"),jQuery(".colorpicker-component").colorpicker({format:"rgb"}),jQuery("input.telefone").mask("(99) 9999-9999?9").focusout(function(t){var r,a,o;r=t.currentTarget?t.currentTarget:t.srcElement,a=r.value.replace(/\D/g,""),o=e(r),o.unmask(),a.length>10?o.mask("(99) 99999-999?9"):o.mask("(99) 9999-9999?9")}),jQuery(".monetario").attr("maxlength","15").keypress(function(e){return digitos(e,this)}).keydown(function(e){formatarMoeda(this,20,e,2)}),jQuery(".cpf").mask("999.999.999-99"),jQuery(".cnpj").mask("99.999.999/9999-99"),jQuery(".cep").mask("99999-999"),jQuery(".horario").mask("99:99?:99"),jQuery(".date-time").mask("99/99/999 99:99?:99"),jQuery(".select").selectpicker({container:"body",liveSearch:!0,showTick:!0})}),tinymce.init({selector:".tinymce",height:300,theme:"modern",language:"pt_BR",plugins:["advlist autolink lists link image charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars code fullscreen","insertdatetime media nonbreaking save table contextmenu directionality","emoticons template paste textcolor colorpicker textpattern imagetools"],toolbar1:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image",toolbar2:"print preview media | forecolor backcolor emoticons",image_advtab:!0,templates:[{title:"Test template 1",content:"Test 1"},{title:"Test template 2",content:"Test 2"}],content_css:["//fonts.googleapis.com/css?family=Lato:300,300i,400,400i","//www.tinymce.com/css/codepen.min.css"]}),window.addEventListener("DOMContentLoaded",function(){var e,t,r,a,o,n,i=$("#imagemCrop")[0],c=$("#imagemCrop").attr("src");$("#modalCrop").on("shown.bs.modal",function(s){i=$("#imagemCrop")[0],c=$("#imagemCrop").attr("src"),t=$(s.relatedTarget),e=new Cropper(i,{autoCropArea:1,aspectRatio:$("input[type=hidden][name=aspectRatioCrop]").val(),viewMode:1,modal:!0,guides:!0,crop:function(e){r=e.detail.x,a=e.detail.y,o=e.detail.width,n=e.detail.height}})}),$("#modalCrop").on("hidden.bs.modal",function(){e.destroy()}),$("#cropImageBtn").on("click",function(e){e.preventDefault(),$.ajax({url:"../includes/cortarImagem.php",type:"POST",cache:!1,data:{x:r,y:a,w:o,h:n,imagem:c},success:function(e){swal({title:"",text:"A imagem foi recortada com sucesso!",type:"success"},function(){$("#modalCrop").modal("hide"),t.parent().parent().find("td.thumbGrid").length>0&&(t.parent().parent().find("td.thumbGrid > img").length<1&&t.parent().parent().find("td.thumbGrid").html('<img src="" border="0" width="100%;">'),t.parent().parent().find("td.thumbGrid > img").attr("src",e)),$(".thumb > img").length<1&&$(".thumb").html('<label>Miniatura</label><img src="" border="0" width="100%;">'),$(".thumb > img").attr("src",e)})},error:function(){sweetAlert("Oops...","Ocorreu um erro inesperado!","error")}})})}),jQuery.validator.addMethod("documento",function(e,t){if(e=e.replace(".",""),e=e.replace(".",""),e=e.replace("-",""),e=e.replace("/",""),e.length<=11){if(jQuery.validator.methods.cpf.call(this,e,t))return!0;this.settings.messages.documento.documento="Informe um CPF válido."}else if(e.length<=14){if(jQuery.validator.methods.cnpj.call(this,e,t))return!0;this.settings.messages.documento.documento="Informe um CNPJ válido."}return!1},"Informe um documento válido."),jQuery.validator.addMethod("cpf",function(e,t){for(e=jQuery.trim(e),e=e.replace(".",""),e=e.replace(".",""),cpf=e.replace("-","");cpf.length<11;)cpf="0"+cpf;var r=/^0+$|^1+$|^2+$|^3+$|^4+$|^5+$|^6+$|^7+$|^8+$|^9+$/,a=[],o=0,n=11;for(i=0;i<11;i++)a[i]=cpf.charAt(i),i<9&&(o+=a[i]*--n);for((x=o%11)<2?a[9]=0:a[9]=11-x,o=0,n=11,y=0;y<10;y++)o+=a[y]*n--;(x=o%11)<2?a[10]=0:a[10]=11-x;var c=!0;return(cpf.charAt(9)!=a[9]||cpf.charAt(10)!=a[10]||cpf.match(r))&&(c=!1),this.optional(t)||c},"Informe um CPF válido."),jQuery.validator.addMethod("cnpj",function(e,t){e=jQuery.trim(e),e=e.replace("/",""),e=e.replace(".",""),e=e.replace(".",""),e=e.replace("-","");var r,a,o,n,i,c,s,u;if(u=1,e.length<14&&e.length<15)return!1;for(n=0;n<e.length-1;n++)if(e.charAt(n)!=e.charAt(n+1)){u=0;break}if(u)return!1;for(s=e.length-2,r=e.substring(0,s),a=e.substring(s),o=0,c=s-7,n=s;n>=1;n--)o+=r.charAt(s-n)*c--,c<2&&(c=9);if(i=o%11<2?0:11-o%11,i!=a.charAt(0))return!1;for(s+=1,r=e.substring(0,s),o=0,c=s-7,n=s;n>=1;n--)o+=r.charAt(s-n)*c--,c<2&&(c=9);return i=o%11<2?0:11-o%11,i==a.charAt(1)},"Informe um CNPJ válido."),$("button[type!=submit]").on("click",function(e){e.preventDefault()}),Array.prototype.max=function(){return Math.max.apply(null,this)},Array.prototype.min=function(){return Math.min.apply(null,this)};